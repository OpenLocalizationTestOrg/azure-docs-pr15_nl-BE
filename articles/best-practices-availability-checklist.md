<properties
   pageTitle="Controlelijst voor beschikbaarheid | Microsoft Azure"
   description="De controlelijst die het biedt hulp bij problemen met beschikbaarheid tijdens het ontwerpen."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="availability-checklist"></a>Controlelijst voor beschikbaarheid

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="application-design"></a>Ontwerp van toepassingen

- **Voorkomen dat een potentieel risico.** Alle onderdelen, services, resources en compute exemplaren moeten worden geïmplementeerd als meerdere exemplaren om te voorkomen dat een potentieel risico op het gebied van beschikbaarheid. Dit omvat verificatiemechanismen. Ontwerp van de toepassing moet worden geconfigureerd voor het gebruik van meerdere exemplaren en voor automatisch fouten opsporen en aanvragen omleiden naar-kan instanties waar het platform dit niet automatisch doet.
- **Ontleden werkbelasting per verschillende serviceniveau overeenkomst.** Als een service bestaat uit belangrijke en minder kritieke werklast, anders worden beheerd en de functies van het service en aantal exemplaren te voldoen aan de eisen van hun beschikbaarheid.
- **Minimaliseren en serviceafhankelijkheden begrijpen.** Beperk het aantal verschillende services gebruikt waar mogelijk en u weet dat alle van de functie en service afhankelijkheden die bestaan in het systeem. Dit omvat de aard van deze afhankelijkheden en de gevolgen van de storing of verminderde prestaties in elkaar over de algemene toepassing. Microsoft garandeert ten minste 99,9 procent beschikbaarheid voor de meeste services, maar dit betekent dat elke extra service is een toepassing afhankelijk is van potentieel vermindert de algehele beschikbaarheid SLA van uw systeem met 0,1 procent.
- **Ontwerpen van taken en berichten idempotency is ingeschakeld (veilig herhaalbare) waar mogelijk**, zodat die aanvragen gedupliceerd veroorzaken geen problemen. Een service kan bijvoorbeeld fungeren als een consument die in andere delen van het systeem die als producenten fungeren als aanvragen verzonden berichten verwerkt. Indien de consument niet na het verwerken van de berichten, maar voordat bevestigd dat deze is verwerkt, kan een producent een herhaalde aanvraag kan worden verwerkt door een ander exemplaar van de consument indienen. Om deze reden moet consumenten en de verrichtingen die zij uitvoeren idempotency is ingeschakeld, zodat een eerder uitgevoerde bewerking te herhalen niet weer de resultaten ongeldig. Betekent dit dat berichten gedupliceerd detecteren of consistent te houden met behulp van een optimistische benadering van conflicten.
- **Gebruik een bericht broker die hoge beschikbaarheid voor kritische transacties implementeert.** Veel scenario's voor het initiëren van taken of toegang krijgen tot externe services met messaging kunt u instructies geven tussen de toepassing en de target-service. Voor de beste prestaties moeten de toepassing kunnen zijn voor het verzenden van het bericht en vervolgens meer om aanvragen te verwerken, zonder dat moet worden gewacht op een antwoord terug. Om de bezorging van berichten garanderen, dient het berichtensysteem hoge beschikbaarheid. Azure Service Bus berichtenwachtrijen implementeren _ten minste eenmaal_ semantiek. Dit betekent dat elk bericht dat naar een wachtrij is geboekt niet verloren zullen gaan, hoewel het dubbele exemplaren onder bepaalde omstandigheden kunnen worden geleverd. Als de verwerking van berichten is idempotency is ingeschakeld (Zie het vorige item), herhaalde bezorging mag geen probleem.
- **Toepassingen verslechteren zonder problemen** bij het bereiken van resource limieten en passende actie ondernemen tot een minimum beperken van de gevolgen voor de gebruiker. In sommige gevallen, de belasting van de toepassing kan groter zijn dan de capaciteit van een of meer delen, veroorzaakt door verminderde beschikbaarheid en verbindingen is mislukt. Schalen kunt u dit ondervangen, maar er een limiet van andere factoren, zoals de beschikbaarheid van resources of kosten kan bereiken. De toepassing zodanig ontwerpen dat, in dit geval het kan automatisch doen verslechteren zonder problemen. Bijvoorbeeld in een e-commerce-systeem als de order verwerking subsysteem onder druk staan is (of zelfs volledig is mislukt), kan het worden tijdelijk uitgeschakeld terwijl u andere functies (zoals de productcatalogus bladeren) om door te gaan. Het misschien te verzoeken om een mislukte subsysteem en inschakelen van klanten te verzenden orders bijvoorbeeld nog maar opslaan voor latere verwerking, wanneer het subsysteem orders weer beschikbaar is.
- **Snelle burst gebeurtenissen zonder problemen verwerken.** De meeste toepassingen moeten verschillende werklasten verwerken na verloop van tijd, zoals de pieken in de ochtend in een zakelijke toepassing of wanneer een nieuw product is vrijgegeven in een e-commerce site eerst te beginnen. Automatisch schalen kan helpen bij het verwerken van de belasting, maar duurt het enige tijd voor extra exemplaren aan on line worden gebracht en het verwerken van aanvragen. Bedolven onder de toepassing van plotselinge en onverwachte lichtflitsen activiteit voorkomen: ontwerp naar wachtrij aanvragen voor de services die worden gebruikt en zonder problemen afnemen wanneer wachtrijen zijn nabijheid van volledige capaciteit. Zorg ervoor dat er voldoende prestaties en capaciteit beschikbaar is onder de omstandigheden niet burst drain de wachtrijen en uitstaande aanvragen verwerken. Zie het [laden bij het herverdelen patroon op basis van de wachtrijen](https://msdn.microsoft.com/library/dn589783.aspx)voor meer informatie.

## <a name="deployment-and-maintenance"></a>Implementatie en onderhoud

- **Meerdere exemplaren van de rollen voor elke service implementeren.** Microsoft maakt beschikbaarheid garanties voor de services die u maakt en implementeert, maar deze garanties zijn alleen geldig als u ten minste twee exemplaren van elke rol in de service implementeert. Hiermee kunt een functie niet beschikbaar is, terwijl de andere actief blijft. Dit is vooral belangrijk als u updates op een live systeem implementeren zonder dat de activiteiten van de cliënten; instanties kunnen worden uitgeschakeld en afzonderlijk worden bijgewerkt terwijl de andere on line gaan.
- **Host voor toepassingen in meerdere datacenters.** Hoewel zeer onwaarschijnlijk is, is het mogelijk voor een gehele datacenter off via een gebeurtenis zoals een natuurramp of een Internet storing. Belangrijke zakelijke toepassingen moeten worden ondergebracht in meer dan één datacenter om te zorgen voor maximale beschikbaarheid. Dit kan ook minder latentie voor lokale gebruikers en bieden extra mogelijkheden voor flexibiliteit bij het bijwerken van toepassingen.
- **Automatiseren en testen van de implementatie en het onderhoud van taken.** Gedistribueerde toepassingen bestaan uit meerdere onderdelen die moeten samenwerken. Implementatie moet daarom worden geautomatiseerd, met haar geteste en beproefde mechanismen zoals scripts en deployment-toepassingen. Deze kunnen bijwerken en configuratie valideren en automatiseren van de implementatie. Geautomatiseerde technieken moeten ook worden gebruikt voor het uitvoeren van updates van alle of bepaalde delen van toepassingen. Het is essentieel voor alle processen volledig om ervoor te zorgen dat fouten geen extra uitvaltijd veroorzaken. Alle hulpprogramma's voor implementatie moet passende zekerheid beperkingen ter bescherming van de gedistribueerde toepassing; definiëren en implementatie van beleid zorgvuldig af te dwingen en Minimaliseer de noodzaak van menselijke tussenkomst.
- **Overweeg het gebruik van de ontwikkel- en productiecomputers functies van het platform** wanneer deze beschikbaar zijn. Bijvoorbeeld kan met behulp van de ontwikkel- en productiecomputers omgevingen Azure Cloud Services toepassingen worden overgeschakeld van het ene naar het andere direct via een ruil virtuele IP-adres (VIP Swap). Echter als u liever fase in ruimten of gelijktijdig verschillende versies van de toepassing implementeren en geleidelijk gebruikers migreren niet mogelijk gebruikmaken van een VIP-Swap.
- **Wijzigingen in de configuratie toepassen zonder recycling** de instantie, indien mogelijk. In veel gevallen kunnen de configuratie-instellingen voor een Azure toepassing of service worden gewijzigd zonder dat de functie opnieuw worden gestart. Rol van gebeurtenissen die kunnen worden verwerkt om wijzigingen in de configuratie opsporen en deze toepassen op de componenten in de toepassing worden blootgesteld. Sommige wijzigingen in de instellingen van core-platform hoeven echter een rol te worden gestart. Bij het bouwen van onderdelen en services, vergroot de beschikbaarheid en uitvaltijd te minimaliseren door het ontwerpen van deze wijzigingen in de configuratie-instellingen te accepteren zonder dat de toepassing als geheel opnieuw moet worden gestart.
- **Upgraden van domeinen voor nul uitvaltijd tijdens updates gebruiken.** Azure berekenen eenheden zoals web- en werknemer rollen worden toegewezen om te upgraden van domeinen. Domeinen upgraden groeperen rol exemplaren zodat, wanneer een rolling update plaatsvindt, elke rol in het domein upgraden is gestopt, bijgewerkt en opnieuw weer gestart. Dit minimaliseert de impact op de beschikbaarheid van toepassingen. U kunt opgeven hoeveel domeinen voor upgrade voor een service moeten worden gemaakt wanneer de service wordt geïmplementeerd.

    > [AZURE.NOTE] Rollen worden ook verdeeld over de fout met betrekking tot domeinen, die elk redelijkerwijs onafhankelijk van andere domeinen veroorzaakt in rack server, voeding en koeling bepaling is, verkleint de kans op een defect alle exemplaren van de rol. Deze verdeling vindt automatisch plaats, en u deze niet kan bepalen.

- **Beschikbaarheid sets voor Azure virtuele machines configureren.** Het plaatsen van twee of meer virtuele machines in dezelfde beschikbaarheid set zorgt ervoor dat deze virtuele machines niet worden geïmplementeerd op een fout met betrekking tot hetzelfde domein. U moet voor optimale beschikbaarheid, maken van meerdere exemplaren van elke kritieke virtuele machine die wordt gebruikt door het systeem en plaats deze in dezelfde set beschikbaarheid. Als u werkt met meerdere virtuele machines die voor verschillende doeleinden worden gebruikt, maakt u een beschikbaarheid ingesteld voor elke virtuele machine. Exemplaren van elke virtuele machine toevoegen aan elke set beschikbaarheid. Als u afzonderlijke virtuele machines te fungeren als een webserver en een reporting server hebt gemaakt, maakt bijvoorbeeld de beschikbaarheid voor de webserver instellen en een andere beschikbaarheid voor de reporting server instellen. Exemplaren van de web server virtuele machine op de beschikbaarheid van web server instellen en exemplaren van de rapportage server virtuele machine toe te voegen aan de rapporterende server beschikbaarheid set toevoegen.

## <a name="data-management"></a>Gegevensbeheer

- **Profiteren van de gegevensreplicatie** door zowel lokale als geografische redundantie. Gegevens in Azure opslag automatisch worden gerepliceerd om te beschermen tegen verlies bij een storing van de infrastructuur en bepaalde aspecten van deze replicatie kunnen worden geconfigureerd. Alleen-lezen kopieën van gegevens kunnen bijvoorbeeld worden gerepliceerd in meer dan één regio (hierna aangeduid als globaal redundante opslag leestoegang of RA GRS). Houd er rekening mee dat extra kosten met behulp van RA GRS oploopt. Voor meer informatie, Zie [Azure opslag prijzen](https://azure.microsoft.com/pricing/details/storage/).
- **Optimistische gelijktijdigheid van gebruik en de uiteindelijke algehele consistentie** waar mogelijk. Transacties die de toegang tot bronnen via vergrendeling (gelijktijdigheid pessimistische) blokkeren, kan leiden tot slechte prestaties en beschikbaarheid, aanzienlijk verkorten. Deze problemen kunnen worden met name acute in gedistribueerde systemen. In veel gevallen minimaliseren zorgvuldig ontwerp en technieken, zoals partitionering van de kans op conflicten ontstaan met updates die plaatsvinden. Wanneer gegevens worden gerepliceerd of van een afzonderlijk bijgewerkte archief wordt gelezen, zijn de gegevens alleen worden uiteindelijk consistent. Maar de voordelen meestal veel zwaarder wegen dan de impact op de beschikbaarheid van transacties via directe samenhang te waarborgen.
- **Periodieke back-up en herstel punt in tijd**, en controleer of het voldoet aan de invordering wijs doel (vrijgegeven Productieorder). Regelmatig automatisch back-up van gegevens die elders niet behouden en controleer of dat u kunt op betrouwbare wijze herstellen zowel de gegevens als de toepassing zelf moet er een storing optreedt. Gegevensreplicatie is niet een back-upfunctie omdat fouten en inconsistenties geïntroduceerd door fout, fout of schadelijke activiteiten wordt gerepliceerd naar alle winkels. Het back-upproces moet worden beveiligd ter bescherming van de gegevens tijdens de overdracht en opslag. Databases of delen van een gegevensarchief kunnen meestal worden hersteld naar een vorig punt in de tijd met behulp van transactielogboeken. Microsoft Azure biedt een back-up-faciliteit voor gegevens die zijn opgeslagen in Azure SQL-Database. De gegevens worden geëxporteerd naar een back-up-pakket op Azure blob-opslag en kan worden gedownload naar een locatie veilig op lokalen voor opslag.
- **De optie hoge beschikbaarheid te handhaven van een secundaire kopie van een bestand Vgx Azure cache inschakelen.** Bij het gebruik van Azure bestand Vgx. Cache de optie standaard een secundaire kopie van de inhoud. Zie [een cache in Azure bestand Vgx. Cache maken](https://msdn.microsoft.com/library/dn690516.aspx)voor meer informatie.

## <a name="errors-and-failures"></a>Fouten en storingen

- **Het concept van een time-out introduceren.** Services en resources mogelijk niet meer beschikbaar, waardoor aanvragen mislukken. Ervoor te zorgen dat de time-outs voor u geschikt voor elke service of de resource zijn en de client die toegang heeft tot deze. (In sommige gevallen mogelijk nodig om een langere time-out voor een bepaald exemplaar van een client, afhankelijk van de context en andere acties die door de client wordt uitgevoerd.) Zeer korte time-out kan overmatig opnieuw bewerkingen voor services en resources met aanzienlijke vertraging veroorzaken. Zeer lange time-outs kunnen veroorzaken blokkeren als een groot aantal aanvragen in de wachtrij staan, wachten op een service of een bron om te reageren.
- **Probeer opnieuw mislukte bewerkingen veroorzaakt door fouten van voorbijgaande aard.** Een strategie nieuwe pogingen om toegang te krijgen tot alle services en bronnen waarin ze niet per definitie automatische verbinding opnieuw ondersteunen te ontwerpen. Gebruik een strategie met een toenemende vertraging tussen nieuwe pogingen het aantal fouten toeneemt, om te voorkomen dat overbelasting van de resource en kunnen zonder problemen herstellen en verwerken van aanvragen in de wachtrij. Voortdurende pogingen met zeer korte vertragingen zijn waarschijnlijk het probleem exacerbate.
- **Stoppen met het verzenden van verzoeken om te voorkomen dat trapsgewijze fouten** wanneer RAS-services niet beschikbaar zijn. Er zijn situaties waarin tijdelijk of andere fouten, variërend in ernst van gedeeltelijk verlies van connectiviteit voor de volledige uitval van een service, veel langer duren dan verwacht terug te keren naar normaal. Ook als een service zeer druk bezet is, kan storing in een deel van het systeem leiden tot storingen in trapsgewijze en resulteren in een groot aantal bewerkingen op kritieke systeembronnen, zoals geheugen, threads en verbindingen met databases terwijl wordt geblokkeerd. In plaats van steeds opnieuw probeert een bewerking die is onwaarschijnlijk om te slagen, moet de toepassing snel accepteren dat de bewerking is mislukt en de juiste manier verwerken deze storing. Het patroon stroomonderbreker kunt u aanvragen voor specifieke bewerkingen voor een bepaalde periode af te wijzen. Zie voor meer details [Stroomonderbreker patroon](https://msdn.microsoft.com/library/dn589784.aspx).
- **Opstellen of daling terug naar meerdere onderdelen** aan het effect van een bepaalde service off line of niet beschikbaar. Ontwerp van toepassingen gebruik te maken van meerdere exemplaren zonder die gevolgen hebben voor bewerking en bestaande verbindingen waar mogelijk. Gebruik van meerdere exemplaren en aanvragen, distribueren en detecteren en te voorkomen dat het verzenden van verzoeken naar exemplaren is mislukt, optimale beschikbaarheid.
- **Herfst terug naar een andere service of een werkstroom** waar mogelijk. Bijvoorbeeld als het schrijven van SQL-Database is mislukt, tijdelijk gegevens opslaan in een blob-opslag. Bieden een faciliteit voor het schrijven in de blobopslag met SQL-Database wanneer de service beschikbaar. In sommige gevallen wellicht een mislukte bewerking een alternatieve actie waarmee de toepassing te blijven werken zelfs wanneer een onderdeel of service mislukt. Indien mogelijk fouten opsporen en omleiden van aanvragen naar andere services waarmee de functionaliteit van een geschikt alternatief of back-up of gereduceerde exemplaren die kernactiviteiten onderhouden te terwijl de primaire service off line is.

## <a name="monitoring-and-disaster-recovery"></a>Monitoring en noodherstel

- **Uitgebreide instrumentatie geven voor mogelijke fouten en mislukte gebeurtenissen** te melden bij medewerkers. Voor storingen die waarschijnlijk, maar nog niet hebt voorgedaan, voldoende gegevens zodat beheerders met de oorzaak, de situatie te verminderen en ervoor te zorgen dat het systeem beschikbaar blijft. Voor fouten die al hebben plaatsgevonden, moet de toepassing een toepasselijk foutbericht weer voor de gebruiker maar proberen te blijven uitvoeren, met verminderde functionaliteit. In alle gevallen het systeem van toezicht uitgebreide details waarmee beheerders met een snelle invordering, moet vastleggen en indien nodig, voor ontwerpers en ontwikkelaars om het systeem te wijzigen om te voorkomen dat de situatie opnieuw ontstaan.
- **Systeemstatus controleren controle functies implementeren.** De gezondheid en de prestaties van een toepassing kunnen na verloop van tijd afnemen zonder merkbaar totdat het niet meer. Sondes implementeren of functies die regelmatig worden uitgevoerd vanuit buiten de toepassing controleren. Deze controles kunnen worden net zo eenvoudig als het meten van de reactietijd voor de toepassing als geheel, afzonderlijke onderdelen van de toepassing, afzonderlijke services die de toepassing gebruikt of afzonderlijke onderdelen. Functies voor controle van processen om ervoor te zorgen zij geldige resultaten opleveren, latentie meten beschikbaarheid controleren en ophalen van gegevens uit het systeem kunnen worden uitgevoerd.
- **Alle failover en fallback systemen regelmatig te testen** zodat ze beschikbaar zijn en naar behoren functioneren. Voor systemen en de uitvoering wijzigingen failover en fallback functies, maar de gevolgen niet herkend totdat het hoofdsysteem uitvalt of overladen wordt. Het testen voordat dit live tijdens runtime is verplicht.
- **Test de bewakingssystemen.** Geautomatiseerde failover- en fallback systemen en handmatige visualisatie van de systeemstatus en prestaties met behulp van dashboards, alle afhankelijk van bewaking en instrumenten goed functioneert. Als deze elementen niet, ik mis belangrijke informatie of onnauwkeurige gegevens, kan een operator niet realiseren dat het systeem beschadigd of zwak is.
- **Bijhouden van de voortgang van werkstromen voor langdurige** en probeer het opnieuw mislukt. Langdurige werkstromen bestaan vaak uit meerdere stappen. Zorg ervoor dat elke stap is onafhankelijk en opnieuw kan worden verzonden om te minimaliseren van de kans dat de gehele werkstroom moet worden teruggedraaid, of dat meerdere compensatie transacties moeten worden uitgevoerd. Bewaken en beheren van de voortgang van werkstromen voor langdurige implementatie van een patroon zoals [Scheduler Agent Supervisor patroon](https://msdn.microsoft.com/library/dn589780.aspx).
- **Plan voor herstel na storingen.** Zorg er een gedocumenteerd, volledig geteste en goedgekeurde plan voor herstel van elke soort fout waarmee deel of al het systeem niet beschikbaar is. Controleer regelmatig de procedures, en ervoor te zorgen dat alle medewerkers bekend met het proces bent.
